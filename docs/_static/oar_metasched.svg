<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="442px" preserveAspectRatio="none" style="width:834px;height:442px;" version="1.1" viewBox="0 0 834 442" width="834px" zoomAndPan="magnify"><defs><filter height="300%" id="f111ckahltczqf" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#f111ckahltczqf)" height="337.3281" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="41" y="48.2969"/><rect fill="#FFFFFF" filter="url(#f111ckahltczqf)" height="315.1953" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="178" y="69.4297"/><rect fill="#FFFFFF" filter="url(#f111ckahltczqf)" height="337.3281" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="614.5" y="48.2969"/><rect fill="#FFFFFF" filter="url(#f111ckahltczqf)" height="119.5313" style="stroke: #000000; stroke-width: 2.0;" width="713" x="102" y="84.4297"/><rect fill="#FFFFFF" filter="url(#f111ckahltczqf)" height="59.2656" style="stroke: #000000; stroke-width: 2.0;" width="370" x="112" y="137.6953"/><rect fill="#FFFFFF" filter="url(#f111ckahltczqf)" height="88.3984" style="stroke: #000000; stroke-width: 2.0;" width="456" x="112" y="289.2266"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="46" x2="46" y1="38.2969" y2="394.625"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="183" x2="183" y1="38.2969" y2="394.625"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="510" x2="510" y1="38.2969" y2="394.625"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="619" x2="619" y1="38.2969" y2="394.625"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="743" x2="743" y1="38.2969" y2="394.625"/><rect fill="#FEFECE" filter="url(#f111ckahltczqf)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="72" x="8" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="58" x="15" y="22.9951">Almighty</text><rect fill="#FEFECE" filter="url(#f111ckahltczqf)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="72" x="8" y="393.625"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="58" x="15" y="413.6201">Almighty</text><rect fill="#FEFECE" filter="url(#f111ckahltczqf)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="118" x="122" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="104" x="129" y="22.9951">MetaScheduler</text><rect fill="#FEFECE" filter="url(#f111ckahltczqf)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="118" x="122" y="393.625"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="104" x="129" y="413.6201">MetaScheduler</text><rect fill="#FEFECE" filter="url(#f111ckahltczqf)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="92" x="462" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="78" x="469" y="22.9951">OAREnergy</text><rect fill="#FEFECE" filter="url(#f111ckahltczqf)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="92" x="462" y="393.625"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="78" x="469" y="413.6201">OAREnergy</text><rect fill="#FEFECE" filter="url(#f111ckahltczqf)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="99" x="568" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="85" x="575" y="22.9951">Job launcher</text><rect fill="#FEFECE" filter="url(#f111ckahltczqf)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="99" x="568" y="393.625"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="85" x="575" y="413.6201">Job launcher</text><rect fill="#FEFECE" filter="url(#f111ckahltczqf)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="120" x="681" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="106" x="688" y="22.9951">ExternalModule</text><rect fill="#FEFECE" filter="url(#f111ckahltczqf)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="120" x="681" y="393.625"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="106" x="688" y="413.6201">ExternalModule</text><rect fill="#FFFFFF" filter="url(#f111ckahltczqf)" height="337.3281" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="41" y="48.2969"/><rect fill="#FFFFFF" filter="url(#f111ckahltczqf)" height="315.1953" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="178" y="69.4297"/><rect fill="#FFFFFF" filter="url(#f111ckahltczqf)" height="337.3281" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="614.5" y="48.2969"/><polygon fill="#A80036" points="166,65.4297,176,69.4297,166,73.4297,170,69.4297" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="51" x2="172" y1="69.4297" y2="69.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="108" x="58" y="64.3638">meta_schedule()</text><path d="M102,84.4297 L179,84.4297 L179,91.4297 L169,101.4297 L102,101.4297 L102,84.4297 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="119.5313" style="stroke: #000000; stroke-width: 2.0;" width="713" x="102" y="84.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="32" x="117" y="97.4966">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="197" x="194" y="96.6401">[queues in queues_by_priority]</text><polygon fill="#A80036" points="731,118.6953,741,122.6953,731,126.6953,735,122.6953" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="188" x2="737" y1="122.6953" y2="122.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="286" x="195" y="117.6294">external_metasched(queue, jobs, resources)</text><path d="M112,137.6953 L189,137.6953 L189,144.6953 L179,154.6953 L112,154.6953 L112,137.6953 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="59.2656" style="stroke: #000000; stroke-width: 2.0;" width="370" x="112" y="137.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="32" x="127" y="150.7622">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="109" x="204" y="149.9058">[queue in queus]</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="188" x2="230" y1="175.9609" y2="175.9609"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="230" x2="230" y1="175.9609" y2="188.9609"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="189" x2="230" y1="188.9609" y2="188.9609"/><polygon fill="#A80036" points="199,184.9609,189,188.9609,199,192.9609,195,188.9609" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="275" x="195" y="170.895">scheduler(jobs, scheduled_jobs, resources)</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="188" x2="230" y1="232.0938" y2="232.0938"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="230" x2="230" y1="232.0938" y2="245.0938"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="189" x2="230" y1="245.0938" y2="245.0938"/><polygon fill="#A80036" points="199,241.0938,189,245.0938,199,249.0938,195,245.0938" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="215" x="195" y="227.0278">get_jobs_to_launch(current_time)</text><polygon fill="#A80036" points="602.5,270.2266,612.5,274.2266,602.5,278.2266,606.5,274.2266" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="188" x2="608.5" y1="274.2266" y2="274.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="183" x="195" y="269.1606">notify_jobs_to_launch([jobs])</text><path d="M112,289.2266 L176,289.2266 L176,296.2266 L166,306.2266 L112,306.2266 L112,289.2266 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="88.3984" style="stroke: #000000; stroke-width: 2.0;" width="456" x="112" y="289.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="19" x="127" y="302.2935">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="204" x="191" y="301.437">[ENERGY_SAVING == 'activated']</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="188" x2="230" y1="327.4922" y2="327.4922"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="230" x2="230" y1="327.4922" y2="340.4922"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="189" x2="230" y1="340.4922" y2="340.4922"/><polygon fill="#A80036" points="199,336.4922,189,340.4922,199,344.4922,195,340.4922" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="148" x="195" y="322.4263">nodes_energy_saving()</text><polygon fill="#A80036" points="498,365.625,508,369.625,498,373.625,502,369.625" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="188" x2="504" y1="369.625" y2="369.625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="298" x="195" y="364.5591">send_decision(node_to_wakeup, node_to_halt)</text><!--MD5=[1de0b3c2927a65af939bc7c6e5d9c900]
@startuml
participant Almighty as alm
participant MetaScheduler as kao
participant "OAREnergy" as hulot
participant "Job launcher" as bipbipc
participant ExternalModule as ear

alm++
bipbipc++

alm -> kao++: meta_schedule()

loop queues in queues_by_priority
kao - -> ear: external_metasched(queue, jobs, resources)
  loop queue in queus
    kao -> kao: scheduler(jobs, scheduled_jobs, resources)
  end
end

kao -> kao: get_jobs_to_launch(current_time)
kao -> bipbipc: notify_jobs_to_launch([jobs])

alt ENERGY_SAVING == 'activated'
  kao -> kao: nodes_energy_saving()
  kao -> hulot: send_decision(node_to_wakeup, node_to_halt)
end

kao- -
@endumlgo

PlantUML version 1.2020.16(Sun Aug 23 22:20:43 CEST 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>